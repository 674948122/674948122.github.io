import{_ as t,E as o,Z as p,$ as i,a1 as s,a2 as a,a3 as l,a0 as c}from"./framework-f650ad76.js";const r="/assets/images/iShot_2023-05-04_16.02.41.png",d={},u={href:"https://www.npmjs.com/package/rollup-plugin-visualizer",title:"文档地址",target:"_blank",rel:"noopener noreferrer"};function v(k,n){const e=o("ExternalLinkIcon");return p(),i("div",null,[n[1]||(n[1]=s('<h2 id="介绍" tabindex="-1"><a class="header-anchor" href="#介绍" aria-hidden="true">#</a> 介绍</h2><p><code>Rollup Plugin Visualizer</code>,这是一个依赖分析插件，它提供了多种模式的依赖分析，包括直观的视图分析，<code>sunburst</code>（循环层次图，像光谱）、<code>treemap</code>（矩形层次图，看起来比较直观，也是默认参数）、<code>network</code>（网格图，查看包含关系）、<code>raw-data</code>（原数据模式，<code>json</code>格式）, <code>list</code>(列表模式),你可以选择任意一种你喜欢的观察模式，这里我们就以默认的为例。</p>',2)),a("p",null,[a("a",u,[n[0]||(n[0]=l("文档地址",-1)),c(e)])]),n[2]||(n[2]=s(`<h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装" aria-hidden="true">#</a> 安装</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">pnpm</span> <span class="token function">install</span> rollup-plugin-visualizer
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="配置" tabindex="-1"><a class="header-anchor" href="#配置" aria-hidden="true">#</a> 配置</h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// vite.config.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> visualizer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;rollup-plugin-visualizer&#39;</span>
<span class="token keyword">const</span> lifecycle <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span>npm_lifecycle_event

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// 只有在build:report命令下才配置打包分析插件</span>
    lifecycle <span class="token operator">===</span> <span class="token string">&#39;build:report&#39;</span> <span class="token operator">?</span> <span class="token function">visualizer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token comment">//注意这里要设置为true，否则无效</span>
        <span class="token literal-property property">gzipSize</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">brotliSize</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token comment">// package.json</span>
<span class="token punctuation">{</span>
    <span class="token property">&quot;scripts&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;build:report&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vite build&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="命令" tabindex="-1"><a class="header-anchor" href="#命令" aria-hidden="true">#</a> 命令</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> run build:report
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="效果" tabindex="-1"><a class="header-anchor" href="#效果" aria-hidden="true">#</a> 效果</h2><figure><img src="`+r+'" alt="图片" tabindex="0" loading="lazy"><figcaption>图片</figcaption></figure>',9))])}const b=t(d,[["render",v],["__file","打包分析插件.html.vue"]]);export{b as default};
